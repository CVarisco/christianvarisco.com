---
import type { Lang } from '../../i18n';

interface Props {
  lang: Lang;
  navigation: {
    links: Array<{ label: string; href: string }>;
    socials: Array<{ label: string; href: string; icon: string }>;
  };
  copyright: string;
}

const { lang, navigation, copyright } = Astro.props;

const socialIcons: Record<string, string> = {
  x: `<path d="M17.1761 4H19.9362L13.9061 10.7774L21 20H15.4456L11.0951 14.4066L6.11723 20H3.35544L9.80517 12.7508L3 4H8.69545L12.6279 9.11262L17.1761 4ZM16.2073 18.3754H17.7368L7.86441 5.53928H6.2232L16.2073 18.3754Z" fill="currentColor"/>`,
  youtube: `<path fill-rule="evenodd" clip-rule="evenodd" d="M20.5686 4.77345C21.5163 5.02692 22.2555 5.76903 22.5118 6.71673C23.1821 9.42042 23.1385 14.5321 22.5259 17.278C22.2724 18.2257 21.5303 18.965 20.5826 19.2213C17.9071 19.8831 5.92356 19.8015 3.40294 19.2213C2.45524 18.9678 1.71595 18.2257 1.45966 17.278C0.827391 14.7011 0.871044 9.25144 1.44558 6.73081C1.69905 5.78311 2.44116 5.04382 3.38886 4.78753C6.96561 4.0412 19.2956 4.282 20.5686 4.77345ZM9.86682 8.70227L15.6122 11.9974L9.86682 15.2925V8.70227Z" fill="currentColor"/>`,
  twitch: `<path d="M4.265 3L3 6.236v13.223h4.502V21l2.531.85l2.392-2.391h3.658l4.923-4.924V3H4.265zm15.052 10.691l-2.813 2.814h-4.502l-2.391 2.391v-2.391H5.813V4.688h13.504v9.003zm-2.812-5.767v4.923h-1.688V7.924h1.688zm-4.502 0v4.923h-1.688V7.924h1.688z" fill="currentColor"/>`,
  linkedin: `<path fill-rule="evenodd" clip-rule="evenodd" d="M4.5 3C3.67157 3 3 3.67157 3 4.5V19.5C3 20.3284 3.67157 21 4.5 21H19.5C20.3284 21 21 20.3284 21 19.5V4.5C21 3.67157 20.3284 3 19.5 3H4.5ZM8.52076 7.00272C8.52639 7.95897 7.81061 8.54819 6.96123 8.54397C6.16107 8.53975 5.46357 7.90272 5.46779 7.00413C5.47201 6.15897 6.13998 5.47975 7.00764 5.49944C7.88795 5.51913 8.52639 6.1646 8.52076 7.00272ZM12.2797 9.76176H9.75971H9.7583V18.3216H12.4217V18.1219C12.4217 17.742 12.4214 17.362 12.4211 16.9819V16.9818V16.9816V16.9815V16.9812C12.4203 15.9674 12.4194 14.9532 12.4246 13.9397C12.426 13.6936 12.4372 13.4377 12.5005 13.2028C12.7381 12.3253 13.5271 11.7586 14.4074 11.8979C14.9727 11.9864 15.3467 12.3141 15.5042 12.8471C15.6013 13.1803 15.6449 13.5389 15.6491 13.8863C15.6605 14.9339 15.6589 15.9815 15.6573 17.0292V17.0294C15.6567 17.3992 15.6561 17.769 15.6561 18.1388V18.3202H18.328V18.1149C18.328 17.6629 18.3278 17.211 18.3275 16.7591V16.759V16.7588C18.327 15.6293 18.3264 14.5001 18.3294 13.3702C18.3308 12.8597 18.276 12.3563 18.1508 11.8627C17.9638 11.1286 17.5771 10.5211 16.9485 10.0824C16.5027 9.77019 16.0133 9.5691 15.4663 9.5466C15.404 9.54401 15.3412 9.54062 15.2781 9.53721L15.2781 9.53721L15.2781 9.53721C14.9984 9.52209 14.7141 9.50673 14.4467 9.56066C13.6817 9.71394 13.0096 10.0641 12.5019 10.6814C12.4429 10.7522 12.3852 10.8241 12.2991 10.9314L12.2991 10.9315L12.2797 10.9557V9.76176ZM5.68164 18.3244H8.33242V9.76733H5.68164V18.3244Z" fill="currentColor"/>`,
  github: `<path fill-rule="evenodd" clip-rule="evenodd" d="M12.026 2c-5.509 0-9.974 4.465-9.974 9.974c0 4.406 2.857 8.145 6.821 9.465c.499.09.679-.217.679-.481c0-.237-.008-.865-.011-1.696c-2.775.602-3.361-1.338-3.361-1.338c-.452-1.152-1.107-1.459-1.107-1.459c-.905-.619.069-.605.069-.605c1.002.07 1.527 1.028 1.527 1.028c.89 1.524 2.336 1.084 2.902.829c.091-.645.351-1.085.635-1.334c-2.214-.251-4.542-1.107-4.542-4.93c0-1.087.389-1.979 1.024-2.675c-.101-.253-.446-1.268.099-2.64c0 0 .837-.269 2.742 1.021a9.582 9.582 0 0 1 2.496-.336a9.554 9.554 0 0 1 2.496.336c1.906-1.291 2.742-1.021 2.742-1.021c.545 1.372.203 2.387.099 2.64c.64.696 1.024 1.587 1.024 2.675c0 3.833-2.33 4.675-4.552 4.922c.355.308.675.916.675 1.846c0 1.334-.012 2.41-.012 2.737c0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974C22 6.465 17.535 2 12.026 2z" fill="currentColor"/>`,
};

// Add About link to footer navigation
const footerLinks = [
  { label: 'About', href: '#about' },
  ...navigation.links
];
---

<footer class="footer">
  <div class="footer-inner">
    <div class="container">
      <!-- Top section -->
      <div class="footer-top">
        <!-- Logo -->
        <a href={lang === 'en' ? '/' : '/it/'} class="footer-logo" aria-label="Christian Varisco - Home">
          <svg width="56" height="56" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <rect width="48" height="48" rx="8" fill="#000"/>
            <path d="M16 14V28C16 32.4183 19.5817 36 24 36C28.4183 36 32 32.4183 32 28V14" stroke="#CBFC01" stroke-width="4" stroke-linecap="round"/>
          </svg>
        </a>

        <!-- Navigation -->
        <nav class="footer-nav">
          {footerLinks.map(link => (
            <a href={link.href} class="footer-link">
              {link.label}
            </a>
          ))}
        </nav>

        <!-- Social Links -->
        <div class="footer-socials">
          {navigation.socials.map(social => (
            <a
              href={social.href}
              target="_blank"
              rel="noopener noreferrer"
              class="social-link"
              aria-label={social.label}
            >
              <svg class="social-icon" viewBox="0 0 24 24" fill="none" set:html={socialIcons[social.icon] || ''} />
            </a>
          ))}
        </div>
      </div>

      <!-- Divider -->
      <div class="footer-divider"></div>

      <!-- Bottom section -->
      <div class="footer-bottom">
        <p class="footer-copyright">
          &copy; {copyright}
        </p>
      </div>
    </div>
  </div>
</footer>

<style>
  .footer {
    background-color: var(--color-background-primary);
  }

  .footer-inner {
    background-color: var(--color-accent);
    border-radius: 24px 24px 0 0;
    padding: var(--spacing-xl) 0 var(--spacing-lg);
  }

  @media (min-width: 768px) {
    .footer-inner {
      border-radius: 32px 32px 0 0;
      padding: var(--spacing-2xl) 0 var(--spacing-xl);
    }
  }

  .footer-top {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-lg);
  }

  @media (min-width: 1024px) {
    .footer-top {
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
    }
  }

  .footer-logo {
    flex-shrink: 0;
  }

  .footer-logo svg {
    width: 48px;
    height: 48px;
  }

  @media (min-width: 768px) {
    .footer-logo svg {
      width: 56px;
      height: 56px;
    }
  }

  .footer-nav {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--spacing-sm) var(--spacing-md);
  }

  @media (min-width: 768px) {
    .footer-nav {
      gap: var(--spacing-lg);
    }
  }

  .footer-link {
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: var(--color-text-alternate);
    transition: opacity 0.2s ease;
  }

  @media (min-width: 768px) {
    .footer-link {
      font-size: var(--font-size-base);
    }
  }

  .footer-link:hover {
    opacity: 0.7;
    color: var(--color-text-alternate);
  }

  .footer-socials {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
  }

  @media (min-width: 768px) {
    .footer-socials {
      gap: var(--spacing-md);
    }
  }

  .social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-text-alternate);
    transition: opacity 0.2s ease;
  }

  .social-link:hover {
    opacity: 0.7;
    color: var(--color-text-alternate);
  }

  .social-icon {
    width: 22px;
    height: 22px;
  }

  @media (min-width: 768px) {
    .social-icon {
      width: 24px;
      height: 24px;
    }
  }

  .footer-divider {
    height: 1px;
    background-color: rgba(0, 0, 0, 0.15);
    margin: var(--spacing-lg) 0;
  }

  @media (min-width: 768px) {
    .footer-divider {
      margin: var(--spacing-xl) 0;
    }
  }

  .footer-bottom {
    text-align: center;
  }

  .footer-copyright {
    font-size: var(--font-size-sm);
    color: var(--color-text-alternate);
    opacity: 0.8;
  }
</style>
