---
interface Props {
  items: Array<{
    question: string;
    answer: string;
  }>;
}

const { items } = Astro.props;
---

<div class="accordion space-y-4">
  {items.map((item, index) => (
    <details class="group" name="faq">
      <summary class="flex items-center justify-between cursor-pointer list-none p-4 md:p-6 bg-background-secondary rounded-xl hover:bg-opacity-80 transition-colors">
        <span class="font-semibold text-base md:text-lg pr-4">{item.question}</span>
        <span class="accordion-icon flex-shrink-0 w-6 h-6 text-accent transition-transform duration-200 group-open:rotate-180">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </span>
      </summary>
      <div class="accordion-content px-4 md:px-6 pb-4 md:pb-6 pt-2">
        <p class="text-text-secondary leading-relaxed">{item.answer}</p>
      </div>
    </details>
  ))}
</div>

<style>
  details summary::-webkit-details-marker {
    display: none;
  }

  details[open] summary {
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
  }

  details[open] .accordion-content {
    animation: slideDown 0.2s ease-out;
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
